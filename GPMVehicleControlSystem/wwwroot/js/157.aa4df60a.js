"use strict";(self["webpackChunkagv_ui"]=self["webpackChunkagv_ui"]||[]).push([[157],{92157:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(73396);const i=(0,n._)("h1",null,"Play ground",-1),l={class:"d-flex"};function o(e,t,a,o,s,r){const u=(0,n.up)("el-divider"),m=(0,n.up)("IOSetting");return(0,n.wg)(),(0,n.iD)(n.HY,null,[i,(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)("IOSetting")])),_:1}),(0,n._)("div",l,[(0,n.Wm)(m,{regionName:"X"})])],64)}var s=a(87139);const r={class:"d-flex flex-column bg-light m-2 w-100"},u={class:"d-flex py-2"},m={class:"border"};function d(e,t,a,i,l,o){const d=(0,n.up)("b-tab"),c=(0,n.up)("b-tabs"),p=(0,n.up)("el-button"),h=(0,n.up)("el-table-column"),g=(0,n.up)("el-select-v2"),b=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(c,{onActivateTab:o.TabSelectChange},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{title:"X"}),(0,n.Wm)(d,{title:"Y"})])),_:1},8,["onActivateTab"]),(0,n._)("div",u,[(0,n.Wm)(p,{onClick:o.Save,size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)("儲存-"+(0,s.zw)(l.regionName),1)])),_:1},8,["onClick"])]),(0,n._)("div",m,[(0,n.Wm)(b,{border:"","row-key":"index",data:l.tableData,height:"600"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{prop:"index",label:"Index","min-width":"20"}),(0,n.Wm)(h,{prop:"address",label:"Address"}),(0,n.Wm)(h,{prop:"name",label:"Name"},{default:(0,n.w5)((e=>[(0,n.Wm)(g,{modelValue:e.row.name,"onUpdate:modelValue":t=>e.row.name=t,filterable:"",options:o.GetSelectOptions,placeholder:"Please select",clearable:"",style:{width:"300px"}},null,8,["modelValue","onUpdate:modelValue","options"])])),_:1})])),_:1},8,["data"])])])}a(57658);var c=a(33251),p=a(46750),h=a(38418),g={data(){return{regionName:"X",tableData:[]}},computed:{GetSelectOptions(){return"X"==this.regionName?c.Vo:"Y"==this.regionName?c.NP:void 0},GetCurrentIORegistState(){var e=p.zb.getters.DIOStates;return"X"==this.regionName?e.Inputs:"Y"==this.regionName?e.Outputs:void 0},DataToStore(){var e={};for(let t=0;t<this.tableData.length;t++){const a=this.tableData[t];e[t]=a&&a.name?a.name:""}return console.log(e),e}},methods:{InitData(){setTimeout((()=>{this.tableData=[];var e=this.GetCurrentIORegistState;for(let a=0;a<64;a++){var t=e[a];this.tableData.push({index:`${a}`,address:`${this.regionName}${a.toString(16).toUpperCase()}`,name:t?t.Name:""})}}),300)},TabSelectChange(e){this.regionName=0==e?"X":"Y",this.InitData()},Save(){this.$swal.fire({title:"確定要儲存此設定?",text:"",icon:"question",showCancelButton:!0,confirmButtonText:"OK",customClass:"my-sweetalert"}).then((async e=>{if(e.isConfirmed){var t={confirm:!1,message:""};t="X"==this.regionName?await h.Kl.UpdateInputMap(this.DataToStore):await h.Kl.UpdateOutputMap(this.DataToStore),this.$swal.fire({title:t.confirm?"修改成功":"修改失敗",text:t.message,icon:t.confirm?"success":"error",showCancelButton:!1,confirmButtonText:"OK",customClass:"my-sweetalert"})}}))}},mounted(){this.InitData()}},b=a(40089);const f=(0,b.Z)(g,[["render",d]]);var v=f,w={components:{IOSetting:v}};const S=(0,b.Z)(w,[["render",o]]);var D=S}}]);
//# sourceMappingURL=157.aa4df60a.js.map